<!DOCTYPE html>
<html>
  <head><title>GitHub Callback</title></head>
  <body>
    <h2>Processing GitHub Token...</h2>
    <script>
      // Simulate a token from backend
      const fakeToken = "gho_test_fake_token_123";

      // ✅ Send token to extension popup
      if (window.opener) {
        window.opener.postMessage(
          {
            type: "GITHUB_OAUTH_SUCCESS",
            token: fakeToken
          },
          "https://tssubhash03.github.io"
        );
        setTimeout(() => window.close(), 1500);
      } else {
        document.body.innerHTML = "<h2>❌ No opener window</h2>";
      }
    </script>
  </body>
</html>
